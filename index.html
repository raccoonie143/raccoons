<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Raccoon Reverie</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --accent: #f5b5a5;
      --highlight: #fff1e6;
      --bg-light: #faf8f6;
      --text-light: #333;
      --bg-dark: #2e2d3c;
      --text-dark: #f5f5f5;
      --joke-bg-light: #fff7f0;
      --joke-bg-dark: #3c3b50;
      --joke-text-light: #5c3d2e;
      --joke-text-dark: #fbd2a2;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Outfit', sans-serif;
      background: var(--bg-light);
      color: var(--text-light);
      font-size: 16px;
      transition: background 0.5s ease, color 0.5s ease;
      overflow-x: hidden;
    }

    body.dark {
      background: var(--bg-dark);
      color: var(--text-dark);
    }

    header {
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--highlight);
      border-bottom: 2px solid var(--accent);
    }

    header h1 {
      margin: 0;
      font-size: 1.6rem;
      color: var(--accent);
      text-shadow: 0 0 8px var(--accent);
    }

    nav a, .dark-toggle {
      margin: 0 0.6rem;
      text-decoration: none;
      font-weight: 600;
      color: var(--accent);
      transition: opacity 0.3s, transform 0.2s;
    }

    nav a:hover, .dark-toggle:hover {
      opacity: 0.75;
      transform: scale(1.1);
    }

    .container, main {
      padding: 3rem 1.5rem;
      max-width: 1100px;
      margin: auto;
    }

    .hero {
      background: linear-gradient(135deg, var(--highlight), #fff);
      padding: 2rem;
      border-radius: 1.5rem;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      text-align: center;
      animation: fadeIn 0.6s ease-in;
    }

    .hero h2 {
      margin-top: 0;
      font-size: 2rem;
      color: var(--accent);
    }

    .hero p {
      margin: 1rem 0 1.5rem;
    }

    .hero img {
      width: 120px;
      animation: float 3s ease-in-out infinite, glow 2s ease-in-out infinite;
      display: block;
      margin: 1rem auto 0;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    @keyframes glow {
      0%, 100% { filter: drop-shadow(0 0 5px var(--accent)); }
      50% { filter: drop-shadow(0 0 15px var(--accent)); }
    }

    .btn, .btn-outline {
      font-weight: 600;
      font-size: 1rem;
      padding: 0.6rem 1.2rem;
      border-radius: 10px;
      margin: 0.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .btn {
      background: var(--accent);
      color: white;
      border: none;
    }

    .btn:hover {
      transform: scale(1.05);
    }

    .btn-outline {
      background: transparent;
      color: var(--accent);
      border: 2px solid var(--accent);
    }

    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .card {
      background: rgba(255,255,255,0.9);
      border-radius: 1rem;
      padding: 1.5rem;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      transition: transform 0.3s ease, background 0.3s ease;
    }

    .card:hover {
      transform: translateY(-6px);
      background-color: #fffbe7;
    }

    body.dark .card {
      background: rgba(255, 255, 255, 0.08);
    }

    .joke-section {
      background-color: var(--joke-bg-light);
      color: var(--joke-text-light);
      padding: 2rem;
      border-radius: 1.2rem;
      max-width: 700px;
      margin: 2rem auto;
      text-align: center;
      position: relative;
      overflow: hidden;
      transition: background-color 0.4s, color 0.4s;
    }

    body.dark .joke-section {
      background-color: var(--joke-bg-dark);
      color: var(--joke-text-dark);
    }

    .joke-section button {
      margin-top: 1rem;
      padding: 0.6rem 1.2rem;
      border-radius: 10px;
      border: none;
      background: var(--accent);
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .joke-section button:hover {
      transform: scale(1.05);
    }

    .sparkle {
      position: absolute;
      width: 20px;
      height: 20px;
      background: radial-gradient(circle, white 40%, transparent 70%);
      animation: sparkle 0.6s ease forwards;
      pointer-events: none;
    }

    @keyframes sparkle {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(2); }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .theme-circle {
      position: fixed;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: var(--accent);
      z-index: 999;
      pointer-events: none;
      transition: width 0.6s ease, height 0.6s ease;
      transform: translate(-50%, -50%);
    }

    body.animating .theme-circle {
      width: 200vmax;
      height: 200vmax;
    }
  </style>
</head>
<body>
  <div class="theme-circle" id="themeCircle"></div>

  <header>
    <h1>ü¶ù Raccoon Reverie</h1>
    <nav>
      <a href="#">Home</a>
      <a href="facts.html">Facts</a>
      <a href="quiz.html">Quiz</a>
      <a href="about.html">About</a>
      <button class="dark-toggle" onclick="toggleTheme(event)" id="themeToggle">üåô</button>
    </nav>
  </header>

  <main>
    <section class="hero">
      <h2>Welcome to Raccoon Reverie</h2>
      <p>Discover the dreamy world of raccoons. Whether you're a trash panda fan or just passing through, there's something magical here for you.</p>
      <a href="facts.html"><button class="btn">Explore Facts</button></a>
      <a href="quiz.html"><button class="btn btn-outline">Take Quiz</button></a>
      <img src="https://mystickermania.com/cdn/stickers/animals/raccoon-sitting-512x512.png" alt="Raccoon Sticker" />
    </section>

    <h2 style="text-align:center; margin-top: 3rem;">Why Raccoons Rule</h2>
    <div class="cards">
      <div class="card">üí° <strong>Brainiacs</strong><br>They remember solutions for years. Not just furry ‚Äî genius furry!</div>
      <div class="card">üëã <strong>Super Paws</strong><br>Hands so sensitive they can feel bugs inside a glove. Ew but wow.</div>
      <div class="card">ü¶π‚Äç‚ôÇÔ∏è <strong>Mask Masters</strong><br>Born with a disguise and no plan to hide it.</div>
      <div class="card">üóëÔ∏è <strong>Trash Artists</strong><br>They treat trash like treasure. True recyclers.</div>
      <div class="card">üåÉ <strong>City Slickers</strong><br>They‚Äôve mastered the concrete jungle and your backyard.</div>
      <div class="card">ü¶ù <strong>Cuteness Overload</strong><br>Beady eyes, twitchy noses, and illegal levels of adorable.</div>
    </div>

    <section class="joke-section" id="jokeSection">
      <h3>Raccoon Joke of the Day</h3>
      <p id="joke"><em>"Why don't raccoons ever get caught? Because they always mask their tracks!"</em></p>
      <button onclick="getAnotherJoke(event)">Get Another Joke</button>
    </section>
  </main>

  <script>
    const jokes = [
      "Why don't raccoons ever get caught? Because they always mask their tracks!",
      "Why did the raccoon cross the street? To get to the trash on the other side!",
      "What do raccoons do when they‚Äôre bored? They go dumpster diving for fun!",
      "How do raccoons party? They throw trash bashes!",
      "Why was the raccoon a great musician? Because he had the perfect pitch for trash tunes!"
    ];

    let lastJokeIndex = -1;

    function getAnotherJoke(event) {
      let randomIndex;
      do {
        randomIndex = Math.floor(Math.random() * jokes.length);
      } while (randomIndex === lastJokeIndex);
      lastJokeIndex = randomIndex;

      const jokeText = document.getElementById('joke');
      const sparkle = document.createElement('div');
      sparkle.classList.add('sparkle');
      sparkle.style.left = `${Math.random() * 90 + 5}%`;
      sparkle.style.top = `${Math.random() * 80 + 10}%`;

      const section = document.getElementById('jokeSection');
      section.appendChild(sparkle);

      setTimeout(() => sparkle.remove(), 600);
      jokeText.innerHTML = `<em>"${jokes[randomIndex]}"</em>`;
    }

    function toggleTheme(e) {
      const body = document.body;
      const toggleBtn = document.getElementById('themeToggle');
      const circle = document.getElementById('themeCircle');
      const x = e.clientX || window.innerWidth / 2;
      const y = e.clientY || window.innerHeight / 2;

      circle.style.left = `${x}px`;
      circle.style.top = `${y}px`;

      body.classList.add('animating');

      setTimeout(() => {
        body.classList.toggle('dark');
        toggleBtn.textContent = body.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
        localStorage.setItem('theme', body.classList.contains('dark') ? 'dark' : 'light');
      }, 50);

      setTimeout(() => {
        body.classList.remove('animating');
      }, 800);
    }

    function applyStoredTheme() {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark');
        document.getElementById('themeToggle').textContent = '‚òÄÔ∏è';
      }
    }

    window.onload = applyStoredTheme;
  </script>
</body>
</html>
